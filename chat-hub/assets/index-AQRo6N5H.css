:root{--bg: #f2f6f7;--panel: #ffffff;--text: #0e1713;--muted: #5f6e68;--accent: #1b6ef3;--bubbleOut: #e3efff;--bubbleIn: #ffffff;--border: rgba(13, 23, 18, .12);--hover: #eef3f2;--active: #e3ecea;--shadow: 0 8px 20px rgba(10, 20, 16, .08);--font: "Sora", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif}[data-theme=dark]{--bg: #0c1412;--panel: #111b19;--text: #e8f1ee;--muted: #8da099;--accent: #4c8dff;--bubbleOut: #1d3a66;--bubbleIn: #182422;--border: rgba(255, 255, 255, .1);--hover: #1e2b29;--active: #273534;--shadow: 0 8px 20px rgba(0, 0, 0, .35)}*{box-sizing:border-box;margin:0;padding:0}body{font-family:var(--font);background:var(--bg);color:var(--text);height:100vh;overflow:hidden}.chp-app-container{display:flex;height:100vh;max-width:1600px;margin:0 auto;background:var(--panel);box-shadow:var(--shadow);position:relative;overflow:hidden;border-radius:16px;min-height:100vh}.chp-app-container.sidepanel-left-open .chp-sidebar{width:0;border-right:none;overflow:hidden;pointer-events:none}.chp-sidebar{width:380px;border-right:1px solid var(--border);display:flex;flex-direction:column;background:var(--panel);transition:transform .3s ease,width .3s ease;z-index:100}.chp-sidebar-header{padding:14px 16px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid var(--border)}.chp-header-brand{display:flex;align-items:center;gap:10px}.chp-top-left{margin-right:4px}.chp-logo{width:auto;height:48px;object-fit:contain;transform:scale(2.9);transform-origin:left center}.chp-logo-lg{width:96px;height:96px}.chp-app-title{font-weight:700;font-size:1.05rem;color:var(--accent)}.chp-header-actions{display:flex;gap:10px;align-items:center;position:relative}.chp-icon-btn{background:transparent;border:none;cursor:pointer;color:var(--muted);display:flex;align-items:center;justify-content:center;padding:8px;border-radius:50%;transition:background-color .2s,color .2s;min-width:40px;min-height:40px}.chp-icon-btn:hover{background:var(--hover);color:var(--text)}.chp-icon-btn.active{background:#1b6ef31f;color:var(--accent)}.chp-icon-btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.chp-dropdown{position:absolute;top:44px;right:0;background:var(--panel);border:1px solid var(--border);border-radius:10px;box-shadow:var(--shadow);min-width:180px;padding:6px;display:flex;flex-direction:column;gap:4px;z-index:300}.chp-dropdown-item{background:transparent;border:none;text-align:left;padding:10px 12px;border-radius:8px;font-size:.9rem;color:var(--text);cursor:pointer}.chp-dropdown-item:hover{background:var(--hover)}.chp-dropdown-item:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.chp-context-menu{position:fixed;transform:translateY(-6px);background:var(--panel);border:1px solid var(--border);border-radius:10px;box-shadow:var(--shadow);min-width:180px;padding:6px;display:flex;flex-direction:column;gap:4px;z-index:600}.chp-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#007bff,#0056b3,#004085);color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;position:relative;flex-shrink:0;-webkit-user-select:none;user-select:none}.chp-avatar-small{width:32px;height:32px;font-size:11px}.chp-avatar-btn{border:none;cursor:pointer}.chp-avatar-btn:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.chp-status-dot{position:absolute;bottom:2px;right:2px;width:10px;height:10px;border-radius:50%;border:2px solid var(--panel)}.chp-status-dot.online{background:#25d366}.chp-status-dot.offline{background:#8696a0}.chp-status-dot.away{background:#ffbc00}.chp-search-box{padding:8px 16px;background:var(--panel)}.chp-search-inner{display:flex;align-items:center;background:var(--hover);border-radius:8px;padding:0 12px;gap:8px}.chp-search-input{border:none;background:transparent;padding:10px 6px;width:100%;font-family:inherit;color:var(--text);font-size:.9rem}.chp-search-input:focus{outline:none}.chp-chat-list{flex:1;overflow-y:auto}.chp-sidebar-footer{display:flex;align-items:center;justify-content:space-between;padding:10px 14px;border-top:1px solid var(--border);background:var(--panel)}.chp-footer-group{display:flex;align-items:center;gap:8px}.chp-footer-center{flex:1;display:flex;justify-content:center}.chp-chat-item{display:flex;padding:12px 16px;gap:12px;cursor:pointer;transition:background-color .1s;border-bottom:1px solid var(--border)}.chp-chat-item:hover{background:var(--hover)}.chp-chat-item.active{background:var(--active)}.chp-chat-content{flex:1;min-width:0;display:flex;flex-direction:column;justify-content:center}.chp-chat-top{display:flex;justify-content:space-between;margin-bottom:4px}.chp-chat-name{font-weight:600;font-size:1rem;color:var(--text);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chp-chat-time{font-size:.75rem;color:var(--muted)}.chp-chat-bottom{display:flex;justify-content:space-between;align-items:center;gap:12px}.chp-chat-actions{display:flex;align-items:center;gap:6px}.chp-icon-btn-sm{padding:4px;min-width:28px;min-height:28px}.chp-chat-preview{font-size:.85rem;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chp-unread-badge{background:var(--accent);color:#fff;min-width:20px;height:20px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:.75rem;font-weight:700;padding:0 6px}.chp-empty-list{text-align:center;padding:20px;color:var(--muted);font-size:.9rem}.chp-main{flex:1;display:flex;flex-direction:column;background:var(--bg);position:relative}.chp-main-header{padding:10px 16px;display:flex;align-items:center;gap:12px;background:var(--panel);border-bottom:1px solid var(--border)}.chp-main-info{flex:1;min-width:0}.chp-main-subtitle{font-size:.8rem;color:var(--muted)}.chp-typing{color:var(--accent);font-weight:600}.chp-message-list{flex:1;overflow-y:auto;padding:26px 7%;display:flex;flex-direction:column;gap:8px;background-image:radial-gradient(circle at top left,rgba(0,168,136,.08),transparent 40%),radial-gradient(circle at bottom right,rgba(0,168,136,.06),transparent 45%)}.chp-date-separator{text-align:center;margin:16px 0;position:relative}.chp-date-separator:before{content:"";position:absolute;top:50%;left:0;right:0;height:1px;background:var(--border)}.chp-date-separator span{background:var(--panel);padding:4px 12px;border-radius:8px;font-size:.75rem;font-weight:600;color:var(--muted);position:relative;box-shadow:var(--shadow)}.chp-message-row{display:flex;width:100%}.chp-message-row.me{justify-content:flex-end}.chp-message-row.them{justify-content:flex-start}.chp-message-bubble{max-width:70%;padding:8px 12px 6px;border-radius:12px;position:relative;box-shadow:var(--shadow);word-wrap:break-word}.chp-message-bubble.me{background:var(--bubbleOut);border-top-right-radius:4px}.chp-message-bubble.them{background:var(--bubbleIn);border-top-left-radius:4px}.chp-message-text{font-size:.95rem;line-height:1.45;margin-bottom:4px}.chp-message-footer{display:flex;justify-content:flex-end;align-items:center;gap:4px}.chp-message-time{font-size:.65rem;color:var(--muted)}.chp-typing-bubble{display:flex;gap:4px;padding:12px}.chp-typing-dot{width:6px;height:6px;background:var(--muted);border-radius:50%;animation:chp-dot-pulse 1.4s infinite ease-in-out}.chp-typing-dot:nth-child(2){animation-delay:.2s}.chp-typing-dot:nth-child(3){animation-delay:.4s}@keyframes chp-dot-pulse{0%,80%,to{transform:scale(.6);opacity:.4}40%{transform:scale(1);opacity:1}}.chp-composer{padding:10px 16px;background:var(--panel);display:flex;gap:12px;align-items:flex-end;border-top:1px solid var(--border);min-height:64px}.chp-input-container{flex:1;background:var(--hover);border-radius:8px;padding:8px 12px;max-height:150px;overflow-y:auto}.chp-textarea{width:100%;border:none;background:transparent;resize:none;font-family:inherit;font-size:.95rem;color:var(--text);line-height:1.4;outline:none;display:block}.chp-send-btn{color:var(--accent)}.chp-send-btn:disabled{color:var(--muted);opacity:.5;cursor:not-allowed}.chp-empty-state{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;color:var(--muted);text-align:center;padding:40px;gap:10px}.chp-empty-state h1{font-size:1.5rem;color:var(--text)}.chp-back-btn{display:none}.chp-modal-backdrop{position:fixed;top:0;right:0;bottom:0;left:0;background:#07100e8c;display:flex;align-items:center;justify-content:center;z-index:500;padding:20px}.chp-modal{width:min(420px,100%);background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow);padding:20px 20px 16px;color:var(--text)}.chp-modal h2{font-size:1.1rem;margin-bottom:8px}.chp-modal p{font-size:.92rem;color:var(--muted);margin-bottom:16px;line-height:1.4}.chp-modal-actions{display:flex;justify-content:flex-end;gap:10px}.chp-report-list{display:grid;gap:10px;margin:14px 0 12px}.chp-report-option{display:flex;align-items:center;gap:10px;font-size:.92rem;color:var(--text);background:var(--hover);border:1px solid var(--border);border-radius:10px;padding:10px 12px;cursor:pointer}.chp-report-option input{accent-color:var(--accent)}.chp-report-textarea{width:100%;border-radius:12px;border:1px solid var(--border);padding:10px 12px;font-family:var(--font);font-size:.92rem;background:var(--panel);color:var(--text);resize:vertical}.chp-report-textarea:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.chp-btn{border:none;border-radius:10px;padding:10px 16px;font-size:.9rem;cursor:pointer;display:inline-flex;align-items:center;gap:8px}.chp-btn-ghost{background:transparent;color:var(--text)}.chp-btn-ghost:hover{background:var(--hover)}.chp-btn-danger{background:#ef4444;color:#fff}.chp-btn-danger:hover{background:#dc2626}.chp-btn-danger-text{color:#dc2626}.chp-btn-primary{background:var(--accent);color:#fff}.chp-btn-primary:hover{filter:brightness(.95)}.chp-text-input{width:100%;border-radius:12px;border:1px solid var(--border);padding:10px 12px;font-family:var(--font);font-size:.92rem;background:var(--panel);color:var(--text)}.chp-text-input:focus-visible{outline:2px solid var(--accent);outline-offset:2px}.chp-modal-hint{margin-top:10px;font-size:.85rem;color:var(--muted)}.chp-top-banner-wrap{position:absolute;top:12px;left:12px;right:12px;z-index:999;display:grid;gap:8px;pointer-events:none}.chp-top-banner{pointer-events:auto;display:flex;align-items:center;justify-content:space-between;gap:10px;padding:10px 12px;border-radius:12px;border:1px solid var(--border);background:#ef44441f;color:var(--text);-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px)}.chp-top-banner-info{background:#1b6ef31f}.chp-top-banner-text{font-size:.9rem;line-height:1.2}.chp-top-banner-close{border:none;background:transparent;color:var(--text);cursor:pointer;font-size:1.1rem;padding:2px 6px;border-radius:8px}.chp-top-banner-close:hover{background:var(--hover)}.chp-profile-modal{width:min(520px,100%)}.chp-profile-header{display:flex;flex-direction:column;align-items:center;gap:10px;margin-bottom:16px;text-align:center;position:relative}.chp-profile-close{position:absolute;left:0;top:0}.chp-avatar-lg{width:84px;height:84px;font-size:1.4rem}.chp-profile-actions{display:grid;gap:10px;margin-top:auto}.chp-sidepanel-list{display:grid;gap:12px}.chp-sidepanel-item{display:grid;grid-template-columns:auto 1fr auto;gap:12px;align-items:center;padding:10px;border-radius:12px;background:var(--hover)}.chp-sidepanel-info{display:grid;gap:6px}.chp-sidepanel-top{display:flex;justify-content:space-between;gap:10px;font-size:.92rem}.chp-sidepanel-preview{font-size:.85rem;color:var(--muted);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.chp-sidepanel-actions{display:flex;align-items:center}.chp-btn-mini{padding:8px 12px;font-size:.82rem}.chp-profile-subtitle{font-size:.85rem;color:var(--muted)}.chp-profile-list{display:grid;gap:10px;margin-bottom:16px}.chp-profile-row{display:flex;justify-content:space-between;align-items:center;padding:10px 12px;background:var(--hover);border-radius:10px;font-size:.92rem}.chp-profile-row span{color:var(--muted)}.chp-profile-panel{width:320px;border-left:1px solid var(--border);background:var(--panel);padding:18px;display:flex;flex-direction:column;gap:14px;overflow-y:auto}.chp-side-panel-left{border-left:none;border-right:1px solid var(--border);position:relative;order:-1;width:380px;flex:0 0 380px}.chp-app-container.has-profile .chp-main{flex:1}@media (max-width: 1100px){.chp-profile-panel{position:absolute;right:0;top:0;bottom:0;width:min(320px,92vw);box-shadow:var(--shadow);z-index:250}.chp-side-panel-left{position:absolute;right:auto;left:0;top:0;bottom:0;width:min(320px,92vw);flex:0 0 auto;z-index:260}}@media (max-width: 600px){.chp-profile-panel{left:0;right:0;width:100%}}@media (max-width: 900px){.chp-app-container{border-radius:0}.chp-sidebar{position:absolute;left:0;top:0;bottom:0;width:320px;box-shadow:4px 0 12px #00000026;z-index:200}.chp-sidebar.collapsed{transform:translate(-100%)}.chp-back-btn{display:flex}.chp-main-header{padding:8px 12px}.chp-message-list{padding:20px 6%}.chp-message-bubble{max-width:78%}}@media (max-width: 600px){.chp-sidebar{width:100%}.chp-message-list{padding:14px 4%}.chp-message-text,.chp-app-title{font-size:.9rem}.chp-chat-item{padding:10px 12px}.chp-composer{padding:8px 10px;gap:8px}.chp-input-container{padding:6px 10px}.chp-message-bubble{max-width:86%}}@media (max-width: 420px){.chp-app-container{box-shadow:none}.chp-chat-name{font-size:.95rem}.chp-message-time{font-size:.6rem}}
