import{r as o,j as r,s as W,t as re,f as we,c as Ce,R as Me}from"./localHub-CRw47mWU.js";function ke({slides:e}){const[a,l]=o.useState(0),m=o.useMemo(()=>Array.isArray(e)?e:[],[e]),u=o.useRef(null);if(m.length===0)return null;const f=m.length,w=100/f;return o.useEffect(()=>{l(0)},[f]),o.useEffect(()=>{if(f<=1)return;function p(){u.current||(u.current=setInterval(()=>{l(v=>(v+1)%f)},1e4))}function c(){u.current&&(clearInterval(u.current),u.current=null)}return p(),()=>c()},[f]),r.jsxs("div",{className:"carousel",onMouseEnter:()=>{u.current&&(clearInterval(u.current),u.current=null)},onMouseLeave:()=>{f<=1||u.current||(u.current=setInterval(()=>{l(p=>(p+1)%f)},1e4))},children:[r.jsx("div",{className:"carousel-inner",style:{width:`${f*100}%`,transform:`translateX(-${a*w}%)`},children:m.map((p,c)=>r.jsx("div",{className:"carousel-slide",style:{width:`${w}%`,flex:`0 0 ${w}%`},children:r.jsx("img",{src:p.url,alt:p.alt,onError:v=>{var M;v.currentTarget.onerror=null;const y=p&&typeof p.fallbackUrl=="string"?p.fallbackUrl:((M=m[0])==null?void 0:M.url)||"";v.currentTarget.src=y}})},`${p.url}-${c}`))}),r.jsx("div",{className:"carousel-dots",children:m.map((p,c)=>r.jsx("span",{className:`dot ${c===a?"active":""}`,onClick:()=>l(c)},c))})]})}const ue="lh_profile_impressions_v1";let E;function de(){if(E||(E=new Set,typeof window>"u"))return E;try{const e=window.sessionStorage.getItem(ue),a=e?JSON.parse(e):[];Array.isArray(a)&&a.forEach(l=>{typeof l=="string"&&l.trim().length&&E.add(l)})}catch{}return E}function ne(e){return e?de().has(String(e)):!1}function ae(e){if(!e)return;const a=de(),l=String(e);if(!a.has(l)&&(a.add(l),!(typeof window>"u")))try{window.sessionStorage.setItem(ue,JSON.stringify(Array.from(a)))}catch{}}function Le(e){const a=Number(e);if(!Number.isFinite(a)||a<=0)return null;const l=Math.max(1,Math.min(5,Math.round(a))),m=5-l;return[...Array.from({length:l},(u,f)=>r.jsx("i",{className:"fa-solid fa-star"},`filled-${f}`)),...Array.from({length:m},(u,f)=>r.jsx("i",{className:"fa-regular fa-star"},`empty-${f}`))]}function _e({business:e}){const a=(e==null?void 0:e.name)||"Business",l=Number(e.rating),m=Number.isFinite(l)&&l>0,u=(e==null?void 0:e.businessType)||(e==null?void 0:e.category)||"Services",f=!!(e!=null&&e.isVerified||e!=null&&e.verified||e!=null&&e.is_verified),w="/local_hub_app/images/verified-badge.svg",p=o.useRef(null),c=o.useRef(null),v=o.useMemo(()=>`https://ui-avatars.com/api/?name=${encodeURIComponent(a)}&background=random&color=fff`,[a]),y=o.useMemo(()=>{const d=typeof e.logo=="string"?e.logo.trim():"";return d.length?d:v},[v,e.logo]),M=o.useMemo(()=>{const d=W({title:a,subtitle:"No product image"}),N=W({title:a,subtitle:"Image unavailable"}),h=Array.isArray(e.images)?e.images.filter(x=>typeof x=="string"&&x.trim().length>0):typeof e.image=="string"&&e.image.trim().length>0?[e.image.trim()]:[],S=Array.from(new Set(h)),i=[];for(let x=0;x<Math.min(4,S.length);x++)i.push(S[x]);for(;i.length<4;)i.push(d);return i.map((x,L)=>({url:x,alt:`${a} product image`,fallbackUrl:N,isPlaceholder:x===d}))},[e.image,e.images,a]);return o.useEffect(()=>{if(!(e!=null&&e.id)||ne(e.id)||typeof window>"u")return;const d=p.current;if(!d)return;if(!("IntersectionObserver"in window)){ae(e.id),re({businessId:e.id});return}let N=!1;const h=new IntersectionObserver(S=>{const i=S[0];if(!i||N)return;i.isIntersecting&&i.intersectionRatio>=.5?c.current==null&&(c.current=window.setTimeout(()=>{if(c.current=null,N||ne(e.id))return;const L=d.getBoundingClientRect(),R=Math.min(L.bottom,window.innerHeight)-Math.max(L.top,0);(L.height>0?R/L.height:0)<.5||(ae(e.id),re({businessId:e.id}),h.disconnect())},1e3)):c.current!=null&&(clearTimeout(c.current),c.current=null)},{threshold:[0,.5,1]});return h.observe(d),()=>{N=!0,c.current!=null&&(clearTimeout(c.current),c.current=null),h.disconnect()}},[e==null?void 0:e.id]),r.jsxs("div",{className:"card",ref:p,children:[r.jsxs("div",{className:"biz-header",children:[r.jsx("img",{src:y,alt:`${a} logo`,className:"biz-avatar",onError:d=>{d.currentTarget.onerror=null,d.currentTarget.src=v}}),r.jsx("div",{children:r.jsxs("div",{className:"biz-name",children:[a,f?r.jsx("img",{src:w,alt:"Verified",className:"verified-badge",title:"Verified business","aria-label":"Verified business"}):null]})})]}),r.jsx(ke,{slides:M}),r.jsxs("div",{className:"biz-address",children:[r.jsx("i",{className:"fa-solid fa-location-dot",style:{alignSelf:"flex-start",marginTop:3}}),r.jsxs("div",{children:[r.jsx("div",{style:{fontWeight:600},children:e.address||"123 Main Street"}),r.jsxs("div",{style:{fontSize:"0.8em",opacity:.8},children:[e.suburb||"Central",", ",e.city||"Johannesburg"]}),r.jsx("div",{style:{fontSize:"0.8em",opacity:.8},children:e.province||"Gauteng"})]})]}),r.jsx("div",{className:"biz-rating",style:{marginTop:8},children:m?r.jsxs(r.Fragment,{children:[Le(l)," ",r.jsxs("span",{children:["(",l.toFixed(1),")"]})]}):r.jsx("span",{className:"no-rating",children:"No ratings yet"})}),r.jsx("div",{className:"badge",style:{marginTop:6},children:u}),r.jsx("a",{href:`/local_hub_app/local_hub_info.html?business_id=${encodeURIComponent(e.id||"")}`,className:"view-details-btn",onClick:d=>{var h,S;(S=(h=window.matchMedia)==null?void 0:h.call(window,"(max-width: 640px)"))!=null&&S.matches&&(d.preventDefault(),window.location.href=`/local_hub_app/local_hub_info_mobile.html?business_id=${encodeURIComponent(e.id||"")}`)},children:r.jsx("span",{children:"View Details"})})]})}function le(e){return typeof e=="string"?{value:e,label:e}:e}function I({id:e,label:a,value:l,items:m,allOption:u,onChange:f,containerClassName:w="filter-box",labelClassName:p="filter-label",disabled:c=!1}){const v=o.useRef(null),[y,M]=o.useState(!1),d=o.useMemo(()=>(m||[]).map(le),[m]),N=o.useMemo(()=>le(u),[u]),h=o.useMemo(()=>{const i=d.find(x=>x.value===l);return(i==null?void 0:i.label)??N.label},[N.label,d,l]);o.useEffect(()=>{c&&M(!1)},[c]),o.useEffect(()=>{function i(x){v.current&&(v.current.contains(x.target)||M(!1))}return document.addEventListener("click",i),()=>document.removeEventListener("click",i)},[]);function S(i){f(i),M(!1)}return r.jsxs("div",{className:w,style:{zIndex:y?3:1},children:[a?r.jsx("label",{className:p,htmlFor:e,children:a}):null,r.jsxs("div",{className:`custom-dropdown ${y?"active":""}`,ref:v,children:[r.jsxs("button",{id:e,type:"button",className:"custom-dropdown-btn","aria-haspopup":"listbox","aria-expanded":y,disabled:c,onClick:i=>{i.stopPropagation(),!c&&M(x=>!x)},children:[r.jsx("span",{children:h}),r.jsx("i",{className:"fas fa-chevron-down"})]}),r.jsx("div",{className:"custom-dropdown-menu",role:"listbox","aria-label":a,children:r.jsxs("div",{className:"custom-dropdown-items",children:[r.jsx("div",{className:`custom-dropdown-item ${l===N.value?"selected":""}`,role:"option","aria-selected":l===N.value,onClick:()=>S(N.value),children:N.label}),d.map(i=>r.jsx("div",{className:`custom-dropdown-item ${l===i.value?"selected":""}`,role:"option","aria-selected":l===i.value,onClick:()=>S(i.value),children:i.label},i.value))]})})]})]})}const se={limpopo:["Tzaneen","Louis Trichardt","Polokwane","Lephalale","Mokopane","Modimolle","Musina","Phalaborwa","Bela-Bela","Thohoyandou","Thabazimbi","Giyani","Lebowakgomo","Seshego","Burgersfort","Malamulele","Vuwani","Sibasa","Mphephu"],gauteng:["Johannesburg","Vereeniging","Heidelberg","Pretoria","Krugersdorp","Centurion","Thokoza","Randfontein","Carletonville","Alberton","Vanderbijlpark","Soweto","Springs","Thembisa","Boksburg","Randburg","Benoni","Bophelong","Alexandra","Mamelodi","Tsakani","Duduza","Refilwe","Vosloorus","Wattville","Sebokeng","Hammanskraal","Evaton","Khutsong","Katlehong","Kagiso","Zithobeni","Reiger Park","Midrand","Sharpeville","Muldersdrift","Roodepoort","Meyerton"],"western-cape":["Cape Town","Stellenbosch","Paarl","Franschhoek","George","Mossel Bay","Knysna","Hermanus","Worcester","Somerset West","Bellville","Claremont"],"kwazulu-natal":["Durban","Pietermaritzburg","Umhlanga","Pinetown","Richards Bay","Newcastle","Ladysmith","Empangeni","Ballito","Margate"],"eastern-cape":["Gqeberha","Port Elizabeth","East London","Mthatha","Grahamstown","King William's Town","Jeffreys Bay","Uitenhage"],mpumalanga:["Mbombela","Nelspruit","Witbank","eMalahleni","Middelburg","Secunda","White River","Hazyview"],"north-west":["Mahikeng","Rustenburg","Klerksdorp","Potchefstroom","Brits","Zeerust","Lichtenburg"],"free-state":["Bloemfontein","Welkom","Sasolburg","Bethlehem","Kroonstad","Parys","Harrismith"],"northern-cape":["Kimberley","Upington","Springbok","Kuruman","De Aar","Port Nolloth"]},K=12,me="lh_user_location_v1",oe=[{value:"all",label:"All Categories"},{value:"service",label:"Service"},{value:"beauty",label:"Beauty & Wellness"},{value:"health",label:"Health Care"},{value:"retail",label:"Retail"}],ce=[{value:"relevance",label:"Relevance"},{value:"rating",label:"Highest Rated"},{value:"popular",label:"Most Popular"},{value:"newest",label:"Newest"},{value:"distance",label:"Distance"}];function _(e){return String(e||"").trim().toLowerCase().replace(/&/g,"and").replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")}function F(e){return String(e||"").split("-").filter(Boolean).map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ")}function ie(e){const a=`; ${document.cookie||""}`.split(`; ${e}=`);return a.length!==2?"":a.pop().split(";").shift()||""}function Te(){return!!(ie("standard_session_id")||ie("business_session_id"))}function Ee(){try{const e=sessionStorage.getItem(me);if(!e)return null;const a=JSON.parse(e);if(!a||typeof a!="object")return null;const l=typeof a.province=="string"?a.province.trim():"",m=typeof a.provinceSlug=="string"?a.provinceSlug.trim():"",u=typeof a.suburb=="string"?a.suburb.trim():"";return!u||!l&&!m?null:{province:l||m,suburb:u}}catch{return null}}function Ie(e){const a=[],l=m=>{if(m){if(Array.isArray(m)){m.forEach(l);return}if(typeof m=="string"){const u=_(m);u&&a.push(u)}}};return l(e==null?void 0:e.category),l(e==null?void 0:e.businessCategory),l(e==null?void 0:e.categories),l(e==null?void 0:e.categoryTags),l(e==null?void 0:e.businessCategories),l(e==null?void 0:e.businessType),Array.from(new Set(a))}function Re(e){var m,u,f,w,p,c,v;const a=Number((e==null?void 0:e.latitude)??(e==null?void 0:e.lat)??((m=e==null?void 0:e.location)==null?void 0:m.lat)??((u=e==null?void 0:e.coordinates)==null?void 0:u.lat)??((f=e==null?void 0:e.coordinates)==null?void 0:f.latitude)),l=Number((e==null?void 0:e.longitude)??(e==null?void 0:e.lng)??((w=e==null?void 0:e.location)==null?void 0:w.lng)??((p=e==null?void 0:e.location)==null?void 0:p.lon)??((c=e==null?void 0:e.coordinates)==null?void 0:c.lng)??((v=e==null?void 0:e.coordinates)==null?void 0:v.longitude));return!Number.isFinite(a)||!Number.isFinite(l)?null:{lat:a,lng:l}}function Ae(e,a){const l=c=>c*Math.PI/180,m=l(a.lat-e.lat),u=l(a.lng-e.lng),f=l(e.lat),w=l(a.lat),p=Math.sin(m/2)**2+Math.cos(f)*Math.cos(w)*Math.sin(u/2)**2;return 2*6371*Math.asin(Math.sqrt(p))}function Pe(){const[e,a]=o.useState([]),[l,m]=o.useState(!0),[u,f]=o.useState(""),[w,p]=o.useState(!1),[c,v]=o.useState(""),[y,M]=o.useState("all"),[d,N]=o.useState("all"),[h,S]=o.useState("all"),[i,x]=o.useState("relevance"),[L,R]=o.useState(K),[A,G]=o.useState(null),[J,ge]=o.useState(!1),[fe,T]=o.useState(!1),D=o.useRef(null),[U,q]=o.useState(!1),[Y,Z]=o.useState(""),[X,Q]=o.useState(""),[he,P]=o.useState(!1);o.useEffect(()=>{const t=new AbortController;return m(!0),f(""),we({limit:200,offset:0,signal:t.signal}).then(n=>{a(Array.isArray(n)?n:[])}).catch(n=>{t.signal.aborted||f(n instanceof Error?n.message:"Failed to load businesses.")}).finally(()=>{t.signal.aborted||m(!1)}),()=>t.abort()},[]),o.useEffect(()=>{const t=Ee();t&&(Z(t.province),Q(t.suburb)),!t&&!Te()&&q(!0)},[]),o.useEffect(()=>(U?document.body.classList.add("modal-open"):document.body.classList.remove("modal-open"),()=>document.body.classList.remove("modal-open")),[U]),o.useEffect(()=>{function t(n){D.current&&(D.current.contains(n.target)||T(!1))}return document.addEventListener("click",t),()=>document.removeEventListener("click",t)},[]),o.useEffect(()=>{R(K)},[c,y,d,h,i]),o.useEffect(()=>{i!=="distance"||J||(ge(!0),navigator.geolocation&&navigator.geolocation.getCurrentPosition(t=>{G({lat:t.coords.latitude,lng:t.coords.longitude})},()=>{G(null)},{enableHighAccuracy:!1,timeout:6e3,maximumAge:3e5}))},[i,J]);const b=o.useMemo(()=>Object.keys(se).sort().map(t=>({value:t,label:F(t)})),[]),B=d==="all",H=o.useMemo(()=>B?[]:(se[d]||[]).slice().sort(),[B,d]),$=o.useMemo(()=>{let t=e.slice();if(y!=="all"){const s={service:["service"],beauty:["beauty","wellness","salon","spa"],health:["health","medical","clinic","pharmacy"],retail:["retail","store","shop","market"]}[y]||[y];t=t.filter(g=>{const j=Ie(g);if(j.length)return j.includes(y);const C=_((g==null?void 0:g.businessType)||(g==null?void 0:g.category));return s.some(k=>C.includes(k)||C===k)})}return d!=="all"&&(t=t.filter(n=>_(n==null?void 0:n.province)===d)),h!=="all"&&(t=t.filter(n=>{const s=_(n==null?void 0:n.city),g=_(n==null?void 0:n.suburb);return s===h||g===h})),t},[e,y,h,d]),O=o.useMemo(()=>{let t=$.slice();const n=c.trim().toLowerCase();if(n&&(t=t.filter(s=>{const g=String((s==null?void 0:s.name)||"").toLowerCase(),j=String((s==null?void 0:s.businessType)||(s==null?void 0:s.category)||"").toLowerCase(),C=String((s==null?void 0:s.city)||"").toLowerCase(),k=String((s==null?void 0:s.suburb)||"").toLowerCase(),V=String((s==null?void 0:s.address)||"").toLowerCase();return g.includes(n)||j.includes(n)||C.includes(n)||k.includes(n)||V.includes(n)})),i==="rating")t.sort((s,g)=>(Number(g==null?void 0:g.rating)||0)-(Number(s==null?void 0:s.rating)||0));else if(i==="popular")t.sort((s,g)=>(Number(g==null?void 0:g.followers)||0)-(Number(s==null?void 0:s.followers)||0));else if(i==="newest")t.sort((s,g)=>{const j=new Date((s==null?void 0:s.createdAt)||0).getTime();return new Date((g==null?void 0:g.createdAt)||0).getTime()-j});else if(i==="distance"&&A){const s=t.map(j=>{const C=Re(j),k=C?Ae(A,C):Number.POSITIVE_INFINITY;return{...j,_distance:k}});s.some(j=>Number.isFinite(j._distance)&&j._distance<Number.POSITIVE_INFINITY)&&(t=s.sort((j,C)=>j._distance-C._distance).map(j=>{const{_distance:C,...k}=j;return k}))}return t},[$,c,i,A]),pe=o.useMemo(()=>O.slice(0,L),[O,L]),ve=L<O.length,z=o.useMemo(()=>{const t=c.trim().toLowerCase();return t?$.filter(n=>{const s=String((n==null?void 0:n.name)||"").toLowerCase(),g=String((n==null?void 0:n.businessType)||(n==null?void 0:n.category)||"").toLowerCase(),j=String((n==null?void 0:n.city)||"").toLowerCase(),C=String((n==null?void 0:n.suburb)||"").toLowerCase();return s.includes(t)||g.includes(t)||j.includes(t)||C.includes(t)}).slice(0,6):[]},[$,c]),ee=fe&&c.trim().length>0,ye=!!(c.trim()||y!=="all"||d!=="all"||h!=="all"||i!=="relevance"),te=o.useMemo(()=>{const t=[],n=h!=="all"?H.find(s=>_(s)===h)||F(h):"";if(c.trim()&&t.push({label:`Search: "${c.trim()}"`,onClear:()=>v("")}),y!=="all"){const s={service:"Service",beauty:"Beauty & Wellness",health:"Health Care",retail:"Retail"};t.push({label:s[y]||y,onClear:()=>M("all")})}if(d!=="all"&&t.push({label:F(d),onClear:()=>{N("all"),S("all")}}),h!=="all"&&t.push({label:n||h,onClear:()=>S("all")}),i!=="relevance"){const s={rating:"Highest Rated",popular:"Most Popular",newest:"Newest",distance:"Distance"};t.push({label:s[i]||i,onClear:()=>x("relevance")})}return t},[y,h,H,d,c,i]);function xe(){v(""),M("all"),N("all"),S("all"),x("relevance")}const je="/local_hub_app/logo/localhub_logo.png",Ne="/local_hub_app/images/verified-badge.svg";function Se(){const t=String(Y||"").trim(),n=String(X||"").trim();if(!t||!n){P(!0);return}const s={province:F(t),provinceSlug:t,suburb:n,updatedAt:new Date().toISOString()};try{sessionStorage.setItem(me,JSON.stringify(s))}catch{}P(!1),q(!1)}return r.jsxs("div",{className:"page-shell",style:{"--bg-image":"url(/local_hub_app/images/background.png)"},children:[U?r.jsx("div",{className:"location-modal active",children:r.jsxs("div",{className:"location-card",role:"dialog","aria-modal":"true","aria-labelledby":"locationTitle",children:[r.jsx("h3",{id:"locationTitle",children:"Set your location"}),r.jsx("p",{children:"Please enter your province and suburb/village to continue."}),r.jsx(I,{id:"modalProvinceDropdown",label:"Province:",value:Y,allOption:{value:"",label:"Select Province"},items:b,onChange:t=>{Z(t),P(!1)}}),r.jsxs("div",{className:"location-field",children:[r.jsx("label",{htmlFor:"modalSuburbInput",children:"Suburb/Village"}),r.jsx("input",{id:"modalSuburbInput",type:"text",value:X,onChange:t=>{Q(t.target.value),P(!1)},placeholder:"e.g. Orlando West or KwaMhlanga"})]}),he?r.jsx("div",{className:"location-error",children:"Please enter both province and suburb/village."}):null,r.jsx("div",{className:"location-actions",children:r.jsx("button",{type:"button",className:"location-save",onClick:Se,children:"Save"})})]})}):null,r.jsxs("div",{className:"page",children:[r.jsx("div",{className:"hero",children:r.jsx("img",{src:je,alt:"LocalHub",className:"hero-logo"})}),r.jsxs("div",{className:"search-card",children:[r.jsxs("div",{className:"search-wrapper",ref:D,children:[r.jsx("input",{type:"text",value:c,onChange:t=>{v(t.target.value),T(!0)},onFocus:()=>T(!0),placeholder:"Search a business, product, or neighborhood...",disabled:l}),r.jsx("button",{type:"button",className:`search-clear-btn ${c?"visible":""}`,"aria-label":"Clear search",onClick:()=>{v(""),T(!1)},children:"x"}),r.jsx("div",{className:`search-suggestions ${ee?"visible":""}`,children:ee?z.length?z.map(t=>{const n=(t==null?void 0:t.name)||"Business",s=typeof(t==null?void 0:t.logo)=="string"&&t.logo.trim().length?t.logo.trim():`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}&background=random&color=fff`,g=[t==null?void 0:t.suburb,t==null?void 0:t.city,t==null?void 0:t.province].filter(Boolean),j=g.length?g.join(" â€¢ "):"Local business",C=(t==null?void 0:t.businessType)||(t==null?void 0:t.category)||"Services",k=!!(t!=null&&t.isVerified||t!=null&&t.verified||t!=null&&t.is_verified);return r.jsx("button",{type:"button",className:"search-suggestion",onClick:()=>{v(n),T(!1)},children:r.jsxs("span",{className:"suggestion-row",children:[r.jsx("img",{src:s,alt:`${n} logo`,className:"suggestion-avatar",onError:V=>{V.currentTarget.onerror=null,V.currentTarget.src=W({title:"Logo",subtitle:n})}}),r.jsxs("span",{className:"suggestion-text",children:[r.jsxs("span",{className:"suggestion-title",children:[n,k?r.jsx("img",{src:Ne,alt:"Verified",className:"suggestion-verified",title:"Verified business","aria-label":"Verified business"}):null]}),r.jsx("span",{className:"suggestion-badge",children:C}),r.jsx("span",{className:"suggestion-meta",children:j})]})]})},`${t.id}-suggestion`)}):r.jsx("div",{className:"search-suggestion empty",children:"No matches found"}):null})]}),r.jsx("button",{type:"button",onClick:()=>T(!1),children:"Search"})]}),r.jsxs("div",{className:"filter-toggle-row",children:[r.jsx("button",{type:"button",className:"filter-toggle-btn",onClick:()=>p(t=>!t),disabled:l,children:w?"Hide Filters":"Show Filters"}),r.jsx("button",{type:"button",className:"clear-filters-btn",onClick:xe,disabled:l,style:{display:ye?"inline-flex":"none"},children:"Clear Filters"})]}),r.jsxs("div",{className:`filter-bar ${w?"":"hidden"}`,children:[r.jsx(I,{id:"categoryDropdown",label:"Category:",value:y,allOption:oe[0],items:oe.slice(1),onChange:M}),r.jsx(I,{id:"provinceDropdown",label:"Province:",value:d,allOption:{value:"all",label:"All Provinces"},items:b,onChange:t=>{N(t),S("all")}}),r.jsx(I,{id:"locationDropdown",label:"Location:",value:h,allOption:{value:"all",label:B?"Select Province First":"All Locations"},items:H.map(t=>({value:_(t),label:t})),onChange:S,disabled:B}),r.jsx(I,{id:"sortDropdown",label:"Sort by:",value:i,allOption:ce[0],items:ce.slice(1),onChange:x})]}),te.length?r.jsx("div",{className:"active-filters",children:te.map(t=>r.jsxs("span",{className:"filter-chip",children:[t.label,r.jsx("button",{type:"button",onClick:t.onClear,"aria-label":`Clear ${t.label}`,children:"x"})]},t.label))}):null,u?r.jsxs("div",{className:"error-state",children:[r.jsx("h3",{children:"Failed to load businesses"}),r.jsx("p",{children:u})]}):null,r.jsxs("div",{className:"business-grid",children:[l?r.jsx("div",{className:"skeleton-grid",style:{gridColumn:"1 / -1"},children:Array.from({length:6},(t,n)=>r.jsxs("div",{className:"skeleton-card",children:[r.jsx("div",{className:"skeleton-line small"}),r.jsx("div",{className:"skeleton-line tiny"}),r.jsx("div",{className:"skeleton-box"}),r.jsx("div",{className:"skeleton-line"}),r.jsx("div",{className:"skeleton-line small"})]},n))}):null,!l&&!u?pe.map(t=>r.jsx(_e,{business:t},t.id)):null,!l&&!u&&O.length===0?r.jsxs("div",{className:"empty-state",children:[r.jsx("h3",{children:"No results found"}),r.jsx("p",{children:"Try adjusting your filters or search term."})]}):null]}),!l&&!u&&ve?r.jsx("div",{className:"load-more-row",children:r.jsx("button",{type:"button",className:"load-more-btn",onClick:()=>R(t=>t+K),children:"Load more"})}):null]})]})}Ce.createRoot(document.getElementById("root")).render(r.jsx(Me.StrictMode,{children:r.jsx(Pe,{})}));
